(function(b){var e={name:"selector",version:"1.0",dependencies:["nuthatch.core-1.0"]};b.fn.$=function(a){return this.initNew(this.makeArray(document.getElementById(a)))};b.fn.$.component=e;b.fn.get=function(a){var d=this.makeArray(arguments);d.shift();a=a.toLowerCase();if(a==="class")return this.getElementsByClassName.apply(this,d);if(a==="tag")return this.getElementsByTagName.apply(this,d);if(a==="attr")return this.getElementsByAttribute.apply(this,d);if(a==="attrVal")return this.getElementsByAttributeValue.apply(this, d);if(a==="prev")return this.getPreviousSibling.apply(this,d);if(a==="next")return this.getNextSibling.apply(this,d);if(a==="nthc")return this.getNthChild.apply(this,d);if(a==="nthe")return this.getNthElement.apply(this,d);if(a==="par")return this.getParent.apply(this,d);if(a==="child")return this.getChildren.apply(this,d);throw"Unrecognized selector in get function";};b.fn.getElementsByTagName=function(a,d){var c=[],f=[];this.elements&&this.elements.length&&(f=f.concat(this.elements));if(d)if(d.length)for(var g= 0;g<d.length;g++)f.push(d[g]);else d instanceof b?f=f.concat(d.elements):f.push(d);f.length==0&&f.push(document);for(g=0;g<f.length;g++)if(f[g].getElementsByTagName)var e=f[g].getElementsByTagName(a),c=c.concat(this.makeArray(e));return this.initNew(c)};b.fn.getElementsByTagName.component=e;b.fn.filterElementsByTagName=function(a){var d=[];if(a&&this.elements.length>0)for(var a=a.toUpperCase(),c=0;c<this.elements.length;c++)this.elements[c].tagName===a&&d.push(this.elements[c]);return this.initNew(d)}; b.fn.filterElementsByTagName.component=e;b.fn.filterElementsByAttributeValue=function(){return this.initNew([])};b.fn.filterElementsByAttributeValue.component=e;b.fn.getElementsByAttributeValue=function(a,d,c,f){for(var a=this.getElementsByTagName(a,f),a=a.elements,f=[],b=0;b<a.length;b++){var e=null;a[b][d]?e=a[b][d]:a[b].getAttribute&&a[b].getAttribute(d)&&(e=a[b].getAttribute(d));c instanceof RegExp?c.test(e)&&f.push(a[b]):e===c&&f.push(a[b])}return this.initNew(f)};b.fn.getElementsByAttributeValue.component= e;b.fn.getElementsByAttribute=function(a,d,c){for(var a=this.getElementsByTagName(a,c),a=a.elements,c=[],b=0;b<a.length;b++)a[b].hasAttribute&&a[b].hasAttribute(d)?c.push(a[b]):typeof a[b][d]!="undefined"&&c.push(a[b]);return this.initNew(c)};b.fn.getElementsByAttribute.component=e;b.fn.getElementsByPartialAttributeValue=function(a,d,c,b){re=RegExp(c);return this.getElementsByAttributeValue(a,d,re,b)};b.fn.getElementsByPartialAttributeValue.component=e;b.fn.getElementsByClassName=function(a,d,c){a= this.getElementsByTagName(a,c).elements;c=[];d=RegExp("(\\s|^)"+d+"(\\s|$)");for(i=0;i<a.length;i++)a[i].className.match(d)&&(c[c.length]=a[i]);return this.initNew(c)};b.fn.getElementsByClassName.component=e;b.fn.getPreviousSibling=function(a){var d=[],c;a&&a.previousSibling?c=a:arguments.length==0&&this.elements.length>0&&(c=this.elements[0]);if(c){for(c=c.previousSibling;typeof c!="undefined"&&c.nodeType!=1;)c=c.previousSibling;c.nodeType==1&&d.push(c)}return this.initNew(d)};b.fn.getPreviousSibling.component= e;b.fn.getNextSibling=function(a){var d=[],c;a&&a.nextSibling?c=a:arguments.length==0&&this.elements.length>0&&(c=this.elements[0]);if(c){for(c=c.nextSibling;typeof c!="undefined"&&c.nodeType!=1;)c=c.nextSibling;c.nodeType==1&&d.push(c)}return this.initNew(d)};b.fn.getNextSibling.component=e;b.fn.getNthChild=function(a,d){var c,b=[];d&&typeof d.childNodes!="undefined"?c=d:this.elements.length>0&&(c=this.elements[0]);if(c){c=c.childNodes;var e=0;if(typeof c!="undefined")for(i=0;i<c.length;i++)c[i].nodeType== 1&&(e==a&&b.push(c[i]),e++)}return this.initNew(b)};b.fn.getNthChild.component=e;b.fn.getNthElement=function(a){ret=[];for(var d=0,c=this.elements.length,b=0;b<c;b++)if(this.elements[b].nodeType&&this.elements[b].nodeType==1){if(d==a){ret.push(this.elements[b]);break}d++}return this.initNew(ret)};b.fn.getNthElement.component=e;b.fn.getParent=function(a){var b=[];a&&a.parentNode?b.push(a.parentNode):this.elements.length>0&&this.elements[0].parentNode&&b.push(this.elements[0].parentNode);return this.initNew(b)}; b.fn.getParent.component=e;b.fn.getChildren=function(a){var b=[];a&&typeof a.childNodes!="undefined"?b=this.makeArray(a.childNodes):this.elements.length>0&&typeof this.elements[0].childNodes!="undefined"&&(b=this.makeArray(this.elements[0].childNodes));return this.initNew(b)};b.fn.getChildren.component=e})(NUTHATCH);
